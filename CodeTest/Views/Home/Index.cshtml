@model CodeTest.ViewModels.IndexViewModel
@{
    ViewBag.Title = "Home Page";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section css {
    <style>

        /*table.tablesorter tbody tr {
            background-color: none;
        }*/

    </style>

    <link rel="stylesheet" href="@Url.Content("~/Scripts/tablesorter/themes/blue/style.css")" />

}

    <div>
        <h1>CodeTest</h1>

        <h3>Classes</h3>
        <table id="ClassList" class="table table-bordered table-hover tablesorter">
            <thead>
                <tr>
                    <th>Class Name</th>
                    <th>Location</th>
                    <th>Teacher Name</th>
                    <th></th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var c in Model.Classes)
            {
                <tr>
                    <td>@c.ClassName</td>
                    <td>@c.Location</td>
                    <td>@c.TeacherName</td>
                    <td>@Html.ActionLink("Edit", "EditClass", "Home", new { id = c.ClassId }, null)</td>
                    <td>
                        @Ajax.ActionLink("Delete", "Delete", "Home", new { id = c.ClassId },
                         new AjaxOptions()
                         {
                             HttpMethod = "Delete",
                             Confirm = "Are you sure you want to delete this class?",
                             OnComplete = "function() { $(this).parent().parent().remove() }"
                         })
                </td>
            </tr>
    }
            </tbody>
        </table>
        <button class="btn btn-default">@Html.ActionLink("Add Class", "New", "Home", new { }, null)</button>

        @Html.Partial("_StudentTable")
    </div>

@section scripts {
    <script type="text/javascript">

        $("#ClassList > tbody tr").click(function () {
            var selected = $(this).hasClass("bg-primary");
            $("#ClassList > tbody tr").removeClass("bg-primary");
            if (!selected)
                $(this).addClass("bg-primary");
        });

        $(function () {
            $('table').tablesorter({
                //1: {
                //    // disable it by setting the property sorter to false
                //    sorter: false
                //}

                //headers: {
                //    // disable sorting of the first & second column - before we would have to had made two entries
                //    // note that "first-name" is a class on the span INSIDE the first column th cell
                //    '.teacher-name': {
                //        // disable it by setting the property sorter to false
                //        sorter: false
                //    }
                //}
            });
        });
    </script>
    <script src="@Url.Content("~/Scripts/tablesorter/jquery.metadata.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/tablesorter/jquery.tablesorter.min.js")" type="text/javascript"></script>
}